<!DOCTYPE html>
<html>
<body>

	<h1>Incidencia</h1>
	<p>Nombre de la incidencia: <i th:text="${incidencia.incidenceName}"></i></p>
	<p>Descripcion: <i th:text="${incidencia.description}"></i></p>
	<p>Latitud: <i th:text="${incidencia.location.latitude}"></i></p>
	<p>Longitud: <i th:text="${incidencia.location.longitude}"></i></p>
	<div id="map" style="width: 100%; height: 400px;"></div>

	<script th:inline="javascript">
		/*<![CDATA[*/
		function myMap() {
			var incidencia = [[${incidencia}]]
			var location = new google.maps.LatLng(incidencia.location.latitude, incidencia.location.longitude);
			console.log(incidencia);
			var mapCanvas = document.getElementById("map");
			var mapOptions = {
				center : location,
				zoom : 17
			};
			
			var marker = new google.maps.Marker({
			    position: location,
			    title:[[${incidencia.incidenceName}]]
			});
			
			
			var map = new google.maps.Map(mapCanvas, mapOptions);
			
			marker.setMap(map); 
		}
		/*]]>*/
	</script>

	<script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBuFVvIuUzKACkn5h4P_MAL34a46zghoF4&callback=myMap"></script>
	<!--
To use this code on your website, get a free API key from Google.
Read more at: https://www.w3schools.com/graphics/google_maps_basic.asp
-->

</body>
</html>